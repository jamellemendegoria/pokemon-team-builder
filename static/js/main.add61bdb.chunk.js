(this["webpackJsonppokemon-team-builder"]=this["webpackJsonppokemon-team-builder"]||[]).push([[0],{15:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(10),s=a.n(r),o=(a(15),a(6)),i=a(4),u=a.n(i),m=a(2),l=a(8),d=a(3),f=["baby-doll-eyes","double-edge","freeze-dry","lock-on","mud-slap","multi-attack","power-up-punch","self-destruct","soft-boiled","topsy-turvy","trick-or-treat","u-turn","wake-up-slap","will-o-wisp","x-scissor"];function p(e){return e[0].toUpperCase()+e.slice(1)}function h(e){return e.split(/\s/).map((function(e){return p(e)})).join(" ")}function j(e){return e.replace(/-/g," ")}function v(e){var t;return e.includes("-")?(t=h(j(e)),f.includes(e)&&(t="baby-doll-eyes"===e||"power-up-punch"===e||"wake-up-slap"===e?t.replace(" ","-"):t.replaceAll(" ","-"))):t=p(e),t}function b(e){return e.map((function(e){return v(e.move.name)})).sort()}function O(e){return e.map((function(e){return function(e){var t;return e.includes("-")?(t=h(j(e)),"mr-mime"===e&&(t=t.replace(" ",". "))):t=p(e),t}(e)}))}function g(e){if(""===e)return e;var t;if(/[\s.-]+/.test(e)){var a=e.split(/[\s.-]+/);""===a[a.length-1]&&a.pop(),t=a.map((function(e){return e.toLowerCase()})).join("-")}else t=e.toLowerCase();return t}var x=a(0);var y=function(e){for(var t=Object(n.useState)(e.data?e.data.name.charAt(0).toUpperCase()+e.data.name.slice(1):""),a=Object(d.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),i=o[0],u=o[1],l=Object(n.useState)(Array(4).fill("")),f=Object(d.a)(l,2),p=f[0],h=f[1],j=O(e.pokemonList).map((function(e,t){return Object(x.jsx)("option",{value:e},t)})),v=[],y=function(t){v.push(Object(x.jsx)("input",{value:p[t],placeholder:"Move #".concat(t+1,"..."),list:"moves-".concat(e.index),onChange:function(a){return function(t,a){var n=Object(m.a)(p);n[t]=a.target.value,h(n),e.onMoveChange(g(a.target.value),e.index,t)}(t,a)},className:"team-member-move-input"},t))},k=0;k<p.length;k++)y(k);return Object(x.jsxs)("li",{className:"team-member",children:[e.data?Object(x.jsx)("img",{src:e.data.sprites.other["official-artwork"].front_default,alt:e.data.name,className:"team-member-img ".concat(e.data.types[0].type.name,"-bg")}):Object(x.jsx)("div",{className:"team-member-placeholder",children:"?"}),Object(x.jsx)("input",{value:c,placeholder:"Pok\xe9mon name...",spellCheck:"false",list:"pokemon",onChange:function(t){r(t.target.value);for(var a=Object(m.a)(p),n=0;n<p.length;n++)a[n]="";h(a),e.onTeamChange(g(t.target.value),e.index)},className:"team-member-name-input"}),Object(x.jsx)("datalist",{id:"pokemon",children:j}),Object(x.jsx)("ul",{className:"team-member-types-list",children:e.data?Object(x.jsx)(x.Fragment,{children:e.data.types.map((function(t){return Object(x.jsxs)("li",{className:"team-member-type ".concat(t.type.name,"-text"),children:[t.type.name,Object(x.jsx)("span",{style:{color:"#464646"},children:2===e.data.types.length&&0===e.data.types.indexOf(t)?"/":""})]},t.slot)}))}):Object(x.jsx)("li",{children:"???"},"0")}),Object(x.jsx)("button",{onClick:function(){u(!i)},className:"team-member-moves-btn",children:i?"Hide":"Moves"}),Object(x.jsx)("div",{className:"team-member-moves-wrapper",children:i&&Object(x.jsxs)("div",{className:"team-member-moves-container",children:[v,Object(x.jsx)("datalist",{id:"moves-".concat(e.index),children:e.data&&b(e.data.moves).filter((function(e){return!p.includes(e)})).map((function(e,t){return Object(x.jsx)("option",{value:e},t)}))})]})})]})};var k=function(e){var t=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{className:"popover-heading ".concat(e.name,"-text"),children:p(e.name)}),Object(x.jsx)("ul",{className:"popover-team",children:e.team.map((function(t,a){var n,c=e.damageValues[a];return t.data&&Object(x.jsxs)("li",{children:[p(t.data.name),Object(x.jsx)("span",{className:(n=c,n>0&&n<1?"positive bold":n>1?"negative bold":0===n?"no-damage bold":""),children:" (".concat(c,"x)")})]},a)}))})]}),a=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("h3",{className:"popover-heading",children:["Super effective against ",Object(x.jsx)("span",{className:"".concat(e.name,"-text"),children:p(e.name)})]}),Object(x.jsx)("ul",{children:e.team.map((function(t,a){return t.data&&t.moves.filter((function(t){return t.data&&t.damage&&t.damage.hasOwnProperty(e.name)})).map((function(e,n){return Object(x.jsxs)("li",{children:[Object(x.jsx)("span",{className:"".concat(e.data.type.name,"-text bold"),children:v(e.data.name)})," - ".concat(p(t.data.name))]},"member-".concat(a,"-move-").concat(n))}))}))})]});return Object(x.jsx)(x.Fragment,{children:e.isVisible&&Object(x.jsx)("div",{className:"popover"+("Offensive"===e.type?" bottom":""),children:e.team.every((function(e){return!e.data}))?Object(x.jsx)("p",{children:"Please select a Pok\xe9mon."}):"Defensive"===e.type?t:a})})};var _=function(e){var t=Object(n.useState)(Array(18).fill(!1)),a=Object(d.a)(t,2),c=a[0],r=a[1],s=e.types.map((function(t,a){var n=e.damageValues[t].type_chart;return Object(x.jsxs)("li",{className:"type",children:[Object(x.jsx)("div",{onMouseEnter:function(){return function(e){var t=Object(m.a)(c);t[e]=!0,r(t)}(a)},onMouseLeave:function(){return function(e){var t=Object(m.a)(c);t[e]=!1,r(t)}(a)},className:"type-label ".concat(t,"-bg"),children:t}),Object(x.jsx)(k,{name:t,index:a,type:e.name,isVisible:c[a],team:e.team,damageValues:"Defensive"===e.name?e.damageValues[t].popover:[]}),Object(x.jsx)("p",{className:"damage-value"+(n>0?" positive":n<0?" negative":""),children:n>0?"+".concat(n):n})]},t)}));return Object(x.jsxs)("div",{className:"type-chart-container"+("Defensive"===e.name?" defensive-type-chart":" offensive-type-chart"),children:[Object(x.jsx)("h2",{className:"type-chart-heading",children:"".concat(e.name," Coverage")}),Object(x.jsx)("ul",{className:"type-chart",children:s})]})},N=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"];var w=function(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(d.a)(r,2),i=s[0],f=s[1],p=Object(n.useState)([]),h=Object(d.a)(p,2),j=h[0],v=h[1],b=Object(n.useState)([]),O=Object(d.a)(b,2),g=O[0],k=O[1],w=Object(n.useState)([]),E=Object(d.a)(w,2),C=E[0],S=E[1],M=Object(n.useState)(Array.from({length:6},(function(){return{data:null,moves:Array.from({length:4},(function(){return{data:null,damage:null,checked:!1}})),damage:null,checked:!1}}))),P=Object(d.a)(M,2),F=P[0],L=P[1],V=Object(n.useState)((function(){var e={},t={};return N.forEach((function(a){e[a]={type_chart:0,popover:[1,1,1,1,1,1]},t[a]={type_chart:0}})),{defensive:e,offensive:t}})),A=Object(d.a)(V,2),D=A[0],T=A[1];function B(e,t){var a=Object(m.a)(F),n=j.find((function(t){return t===e}));n?fetch("https://pokeapi.co/api/v2/pokemon/".concat(n)).then((function(e){return e.json()})).then((function(e){a[t].data=e,L(a),function(e){var t=Object(m.a)(F),a=Object(o.a)({},D);e.forEach((function(e,t){if(e.data&&!e.checked){var n={},c={};for(var r in N.forEach((function(e){c[e]={decremented:!1,incremented:!1}})),e.data.types.forEach((function(e){var r=C.find((function(t){return t.name===e.type.name}));r&&(r.damage_relations.double_damage_from.forEach((function(e){c[e.name].decremented||(a.defensive[e.name].type_chart--,n[e.name]?n[e.name]--:n[e.name]=-1,c[e.name].decremented=!0),a.defensive[e.name].popover[t]*=2})),r.damage_relations.half_damage_from.forEach((function(e){c[e.name].incremented||(a.defensive[e.name].type_chart++,n[e.name]?n[e.name]++:n[e.name]=1,c[e.name].incremented=!0),a.defensive[e.name].popover[t]*=.5})),r.damage_relations.no_damage_from.forEach((function(e){for(var r=c[e.name].decremented?2:1,s=0;s<r;s++)a.defensive[e.name].type_chart++,n[e.name]?n[e.name]++:n[e.name]=1;a.defensive[e.name].popover[t]*=0})))})),n)0===n[r]&&delete n[r];e.checked=!0,e.damage=n}})),T(a),L(t)}(a)})):(a[t].data=null,L(a),function(e){var t=Object(m.a)(F),a=Object(o.a)({},D),n=t[e];for(var c in n.damage){var r=n.damage[c];r<0?a.defensive["".concat(c)].type_chart+=Math.abs(r):a.defensive["".concat(c)].type_chart-=Math.abs(r)}for(var s in a.defensive)a.defensive[s].popover[e]=1;n.damage=null,n.checked=!1,n.moves.forEach((function(e){for(var t in e.damage){var n=e.damage[t];n<0?a.offensive[t].type_chart+=Math.abs(n):a.offensive[t].type_chart-=Math.abs(n)}e.data=null,e.damage=null,e.checked=!1})),T(a),L(t)}(t))}function I(e,t,a){var n=Object(m.a)(F),c=n[t],r=g.find((function(t){return t===e}));r?fetch("https://pokeapi.co/api/v2/move/".concat(r,"/")).then((function(e){return e.json()})).then((function(e){c.moves[a].data=e,L(n),function(e){var t=Object(o.a)({},D);e.forEach((function(e){e.data&&e.moves.forEach((function(e){if(e.data&&!e.checked){var a={};if("physical"===e.data.damage_class.name||"special"===e.data.damage_class.name){var n=C.find((function(t){return t.name===e.data.type.name}));n&&n.damage_relations.double_damage_to.forEach((function(e){t.offensive[e.name].type_chart++,a[e.name]?a[e.name]++:a[e.name]=1}))}e.checked=!0,e.damage=a}}))})),T(t)}(n)})):(c.moves[a].data=null,L(n),function(e,t){var a=Object(m.a)(F),n=Object(o.a)({},D),c=a[e].moves[t];for(var r in c.damage){var s=c.damage[r];s<0?n.offensive[r].type_chart+=Math.abs(s):n.offensive[r].type_chart-=Math.abs(s)}c.damage=null,c.checked=!1,T(n),L(a)}(t,a))}Object(n.useEffect)((function(){function e(){return(e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokedex/2/");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.pokemon_entries.forEach((function(e){return v((function(t){return[].concat(Object(m.a)(t),[e.pokemon_species.name])}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/move?limit=844");case 2:return t=e.sent,e.next=5,t.json();case 5:e.sent.results.forEach((function(e){return k((function(t){return[].concat(Object(m.a)(t),[e.name])}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(l.a)(u.a.mark((function e(){var t,a,n,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/type");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=[],a.results.filter((function(e){return"unknown"!==e.name&&"shadow"!==e.name})).forEach((function(e){return n.push(e.url)})),e.next=10,Promise.all(n.map((function(e){return fetch(e)})));case 10:return c=e.sent,e.next=13,Promise.all(c.map((function(e){return e.json()})));case 13:r=e.sent,S(r);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Promise.all([function(){return e.apply(this,arguments)}(),function(){return t.apply(this,arguments)}(),function(){return a.apply(this,arguments)}()]).then((function(){f(!0)}),(function(e){f(!0),c(e)}))}),[]);var J=Object(x.jsx)("div",{className:"loading-container",children:Object(x.jsx)("p",{className:"loading-text",children:"Loading..."})});return a?Object(x.jsxs)("div",{children:["Error: ",a.message," "]}):i?Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Pok\xe9mon Team Builder"}),Object(x.jsx)("ul",{className:"team",children:F.map((function(e,t){return Object(x.jsx)(y,{index:t,data:e.data,pokemonList:j,onTeamChange:B,onMoveChange:I},t)}))}),Object(x.jsx)(_,{name:"Defensive",types:C.map((function(e){return e.name})),damageValues:D.defensive,team:F}),Object(x.jsx)(_,{name:"Offensive",types:C.map((function(e){return e.name})),damageValues:D.offensive,team:F})]}):J},E=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,19)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(w,{})}),document.getElementById("root")),E()}},[[18,1,2]]]);
//# sourceMappingURL=main.add61bdb.chunk.js.map