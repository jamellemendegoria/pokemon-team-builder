(this["webpackJsonppokemon-team-builder"]=this["webpackJsonppokemon-team-builder"]||[]).push([[0],{103:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(29),o=t.n(c),i=(t(95),t(32)),s=t(41),l=t.n(s),u=t(14),d=t(57),m=t(9),f=t(17),p=t(20),j=t(159),h=t(161),b=t(162),v=t(163),O=t(154),g=t(158),x=t(155),y=t(164),k=["baby-doll-eyes","double-edge","freeze-dry","lock-on","mud-slap","multi-attack","power-up-punch","self-destruct","soft-boiled","topsy-turvy","trick-or-treat","u-turn","wake-up-slap","will-o-wisp","x-scissor"];function _(e){return e[0].toUpperCase()+e.slice(1)}function w(e){return e.split(/\s/).map((function(e){return _(e)})).join(" ")}function E(e){return e.replace(/-/g," ")}function C(e){var n;return e.includes("-")?(n=w(E(e)),k.includes(e)&&(n="baby-doll-eyes"===e||"power-up-punch"===e||"wake-up-slap"===e?n.replace(" ","-"):n.replaceAll(" ","-"))):n=_(e),n}function z(e){return e.map((function(e){return C(e.move.name)})).sort()}function S(e){return e.map((function(e){return function(e){var n;return e.includes("-")?(n=w(E(e)),"mr-mime"===e&&(n=n.replace(" ",". "))):n=_(e),n}(e)}))}function M(e){if(""===e)return e;var n;if(/[\s.-]+/.test(e)){var t=e.split(/[\s.-]+/);""===t[t.length-1]&&t.pop(),n=t.map((function(e){return e.toLowerCase()})).join("-")}else n=e.toLowerCase();return n}var P,V,N,F,L,A,B=t(2),I=Object(p.a)(j.a)(P||(P=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.5em;\n\n  & .placeholder {\n    width: 125px;\n    height: 125px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 36px;\n  }\n\n  & ul {\n    display: flex;\n    margin-top: 0.5em;\n  }\n\n  & ul li {\n    text-transform: capitalize;\n  }\n"]))),T=Object(p.a)(h.a)(V||(V=Object(f.a)(["\n  width: 125px;\n  height: 125px;\n"]))),D=Object(p.a)(b.a)(N||(N=Object(f.a)(["\n  padding: 0;\n\n  :last-child {\n    padding: 0;\n  }\n"]))),J=Object(p.a)(v.a)(F||(F=Object(f.a)(["\n  width: 100%;\n"]))),R=Object(p.a)(O.a)(L||(L=Object(f.a)(["\n  margin-top: 0.5em;\n"]))),U=Object(p.a)(g.a)(A||(A=Object(f.a)(["\n  background-color: #464646;\n  font-size: 12px;\n\n  :hover {\n    background-color: #585858;\n  }\n"])));var W,H=function(e){var n=Object(a.useState)(e.data?e.data.name.charAt(0).toUpperCase()+e.data.name.slice(1):""),t=Object(m.a)(n,2),r=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(m.a)(o,2),l=s[0],d=s[1],f=Object(a.useState)(Array(4).fill("")),p=Object(m.a)(f,2),j=p[0],h=p[1];return Object(B.jsx)("li",{children:Object(B.jsxs)(I,{children:[e.data?Object(B.jsx)(T,{component:"img",image:e.data.sprites.other["official-artwork"].front_default,alt:e.data.name}):Object(B.jsx)("div",{className:"placeholder",children:"?"}),Object(B.jsx)(R,{inputValue:r,fullWidth:!0,size:"small",options:S(e.pokemonList),renderInput:function(e){return Object(B.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{label:"Pok\xe9mon name..."}))},onInputChange:function(n,t){c(t);for(var a=Object(u.a)(j),r=0;r<j.length;r++)a[r]="";h(a),e.onTeamChange(M(t),e.index)}}),Object(B.jsx)("ul",{children:e.data?Object(B.jsx)(B.Fragment,{children:e.data.types.map((function(n){return Object(B.jsxs)("li",{className:"".concat(n.type.name,"-text"),children:[n.type.name,Object(B.jsx)("span",{style:{color:"#464646"},children:2===e.data.types.length&&0===e.data.types.indexOf(n)?"/":""})]},n.slot)}))}):Object(B.jsx)("li",{children:"???"},"0")}),Object(B.jsx)(y.a,{children:Object(B.jsx)(U,{variant:"contained",disabled:!e.data,onClick:function(){d(!l)},children:l?"Hide":"Moves"})}),Object(B.jsx)(J,{in:l,children:Object(B.jsx)(D,{children:j.map((function(n,t){return Object(B.jsx)(R,{inputValue:n,fullWidth:!0,size:"small",options:e.data?z(e.data.moves).filter((function(e){return!j.includes(e)})):[],renderInput:function(e){return Object(B.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{label:"Move #".concat(t+1,"...")}))},onInputChange:function(n,a){return function(n,t,a){var r=Object(u.a)(j);r[n]=a,h(r),e.onMoveChange(M(a),e.index,n)}(t,0,a)}},t)}))})})]})})},q=t(160),G=t(156),K=p.a.div(W||(W=Object(f.a)(["\n  padding: 1em;\n\n  & h3 {\n    margin-bottom: 0.5em;\n    font-size: 18px;\n  }\n"])));var Q,X=function(e){return Object(B.jsx)(G.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:e.isVisible,anchorEl:e.anchorEl,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},disableRestoreFocus:!0,children:Object(B.jsx)(K,{children:e.team.every((function(e){return!e.data}))?Object(B.jsx)("p",{children:"Please select a Pok\xe9mon."}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h3",{className:"".concat(e.name,"-text"),children:_(e.name)}),Object(B.jsx)("ul",{children:e.team.map((function(n,t){var a,r=e.damageValues[t];return n.data&&Object(B.jsxs)("li",{children:[_(n.data.name),Object(B.jsx)("span",{className:(a=r,a>0&&a<1?"positive bold":a>1?"negative bold":0===a?"no-damage bold":""),children:" (".concat(r,"x)")})]},t)}))})]})})})},Y=p.a.div(Q||(Q=Object(f.a)(["\n  padding: 1em;\n\n  & h3 {\n    margin-bottom: 0.5em;\n    font-size: 18px;\n  }\n"])));var Z,$,ee=function(e){return Object(B.jsx)(G.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:e.isVisible,anchorEl:e.anchorEl,onClose:e.onClose,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},disableRestoreFocus:!0,children:Object(B.jsx)(Y,{children:e.team.every((function(e){return!e.data}))?Object(B.jsx)("p",{children:"Please select a Pok\xe9mon."}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("h3",{children:["Super effective against ",Object(B.jsx)("span",{className:"".concat(e.name,"-text"),children:_(e.name)})]}),Object(B.jsx)("ul",{children:e.team.map((function(n,t){return n.data&&n.moves.filter((function(n){return n.data&&n.damage&&n.damage.hasOwnProperty(e.name)})).map((function(e,a){return Object(B.jsxs)("li",{children:[Object(B.jsx)("span",{className:"".concat(e.data.type.name,"-text bold"),children:C(e.data.name)})," - ".concat(_(n.data.name))]},"member-".concat(t,"-move-").concat(a))}))}))})]})})})},ne=Object(p.a)(q.a)(Z||(Z=Object(f.a)(["\n  margin-top: 1em;\n  text-align: center;\n\n  & h2 {\n    margin-bottom: 1em;\n    padding-top: 1em;\n    font-size: 24px;\n  }\n"]))),te=p.a.ul($||($=Object(f.a)(["\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n\n  & li {\n    position: relative;\n  }\n\n  & .type-label {\n    position: relative;\n    margin: 0 1em;\n    color: #fff;\n    text-transform: capitalize;\n    border-radius: 5px;\n    font-size: 16px;\n  }\n"])));var ae=function(e){var n=Object(a.useState)(Array(18).fill(!1)),t=Object(m.a)(n,2),r=t[0],c=t[1],o=function(e){var n=Object(u.a)(r);n[e]=null,c(n)},i=e.types.map((function(n,t){var a=e.damageValues[n].type_chart;return Object(B.jsxs)("li",{children:[Object(B.jsx)("div",{onMouseEnter:function(e){return function(e,n){var t=Object(u.a)(r);t[e]=n.target,c(t)}(t,e)},onMouseLeave:function(){return o(t)},className:"type-label ".concat(n,"-bg"),"aria-owns":Boolean(r[t])?"mouse-over-popover":void 0,"aria-haspopup":"true",children:n}),"Defensive"===e.name?Object(B.jsx)(X,{name:n,index:t,isVisible:Boolean(r[t]),team:e.team,damageValues:e.damageValues[n].popover,anchorEl:r[t],onClose:function(){return o(t)}}):Object(B.jsx)(ee,{name:n,index:t,isVisible:Boolean(r[t]),team:e.team,anchorEl:r[t],onClose:function(){return o(t)}}),Object(B.jsx)("p",{className:"damage-value"+(a>0?" positive":a<0?" negative":""),children:a>0?"+".concat(a):a})]},n)}));return Object(B.jsxs)(ne,{children:[Object(B.jsx)("h2",{children:"".concat(e.name," Coverage")}),Object(B.jsx)(te,{children:i})]})},re=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"];var ce=function(){var e=Object(a.useState)(null),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(m.a)(c,2),s=o[0],f=o[1],p=Object(a.useState)([]),j=Object(m.a)(p,2),h=j[0],b=j[1],v=Object(a.useState)([]),O=Object(m.a)(v,2),g=O[0],x=O[1],y=Object(a.useState)([]),k=Object(m.a)(y,2),_=k[0],w=k[1],E=Object(a.useState)(Array.from({length:6},(function(){return{data:null,moves:Array.from({length:4},(function(){return{data:null,damage:null,checked:!1}})),damage:null,checked:!1}}))),C=Object(m.a)(E,2),z=C[0],S=C[1],M=Object(a.useState)((function(){var e={},n={};return re.forEach((function(t){e[t]={type_chart:0,popover:[1,1,1,1,1,1]},n[t]={type_chart:0}})),{defensive:e,offensive:n}})),P=Object(m.a)(M,2),V=P[0],N=P[1];function F(e,n){var t=Object(u.a)(z),a=h.find((function(n){return n===e}));a?fetch("https://pokeapi.co/api/v2/pokemon/".concat(a)).then((function(e){return e.json()})).then((function(e){t[n].data=e,S(t),function(e){var n=Object(u.a)(z),t=Object(i.a)({},V);e.forEach((function(e,n){if(e.data&&!e.checked){var a={},r={};for(var c in re.forEach((function(e){r[e]={decremented:!1,incremented:!1}})),e.data.types.forEach((function(e){var c=_.find((function(n){return n.name===e.type.name}));c&&(c.damage_relations.double_damage_from.forEach((function(e){r[e.name].decremented||(t.defensive[e.name].type_chart--,a[e.name]?a[e.name]--:a[e.name]=-1,r[e.name].decremented=!0),t.defensive[e.name].popover[n]*=2})),c.damage_relations.half_damage_from.forEach((function(e){r[e.name].incremented||(t.defensive[e.name].type_chart++,a[e.name]?a[e.name]++:a[e.name]=1,r[e.name].incremented=!0),t.defensive[e.name].popover[n]*=.5})),c.damage_relations.no_damage_from.forEach((function(e){for(var c=r[e.name].decremented?2:1,o=0;o<c;o++)t.defensive[e.name].type_chart++,a[e.name]?a[e.name]++:a[e.name]=1;t.defensive[e.name].popover[n]*=0})))})),a)0===a[c]&&delete a[c];e.checked=!0,e.damage=a}})),N(t),S(n)}(t)})):(t[n].data=null,S(t),function(e){var n=Object(u.a)(z),t=Object(i.a)({},V),a=n[e];for(var r in a.damage){var c=a.damage[r];c<0?t.defensive["".concat(r)].type_chart+=Math.abs(c):t.defensive["".concat(r)].type_chart-=Math.abs(c)}for(var o in t.defensive)t.defensive[o].popover[e]=1;a.damage=null,a.checked=!1,a.moves.forEach((function(e){for(var n in e.damage){var a=e.damage[n];a<0?t.offensive[n].type_chart+=Math.abs(a):t.offensive[n].type_chart-=Math.abs(a)}e.data=null,e.damage=null,e.checked=!1})),N(t),S(n)}(n))}function L(e,n,t){var a=Object(u.a)(z),r=a[n],c=g.find((function(n){return n===e}));c?fetch("https://pokeapi.co/api/v2/move/".concat(c,"/")).then((function(e){return e.json()})).then((function(e){r.moves[t].data=e,S(a),function(e){var n=Object(i.a)({},V);e.forEach((function(e){e.data&&e.moves.forEach((function(e){if(e.data&&!e.checked){var t={};if("physical"===e.data.damage_class.name||"special"===e.data.damage_class.name){var a=_.find((function(n){return n.name===e.data.type.name}));a&&a.damage_relations.double_damage_to.forEach((function(e){n.offensive[e.name].type_chart++,t[e.name]?t[e.name]++:t[e.name]=1}))}e.checked=!0,e.damage=t}}))})),N(n)}(a)})):(r.moves[t].data=null,S(a),function(e,n){var t=Object(u.a)(z),a=Object(i.a)({},V),r=t[e].moves[n];for(var c in r.damage){var o=r.damage[c];o<0?a.offensive[c].type_chart+=Math.abs(o):a.offensive[c].type_chart-=Math.abs(o)}r.damage=null,r.checked=!1,N(a),S(t)}(n,t))}Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokedex/2/");case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.pokemon_entries.forEach((function(e){return b((function(n){return[].concat(Object(u.a)(n),[e.pokemon_species.name])}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(d.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/move?limit=844");case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.results.forEach((function(e){return x((function(n){return[].concat(Object(u.a)(n),[e.name])}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(){var n,t,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/type");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,a=[],t.results.filter((function(e){return"unknown"!==e.name&&"shadow"!==e.name})).forEach((function(e){return a.push(e.url)})),e.next=10,Promise.all(a.map((function(e){return fetch(e)})));case 10:return r=e.sent,e.next=13,Promise.all(r.map((function(e){return e.json()})));case 13:c=e.sent,w(c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Promise.all([function(){return e.apply(this,arguments)}(),function(){return n.apply(this,arguments)}(),function(){return t.apply(this,arguments)}()]).then((function(){f(!0)}),(function(e){f(!0),r(e)}))}),[]);var A=Object(B.jsx)("div",{className:"loading-container",children:Object(B.jsx)("p",{className:"loading-text",children:"Loading..."})});return t?Object(B.jsxs)("div",{children:["Error: ",t.message," "]}):s?Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Pok\xe9mon Team Builder"}),Object(B.jsx)("ul",{className:"team",children:z.map((function(e,n){return Object(B.jsx)(H,{index:n,data:e.data,pokemonList:h,onTeamChange:F,onMoveChange:L},n)}))}),Object(B.jsx)(ae,{name:"Defensive",types:_.map((function(e){return e.name})),damageValues:V.defensive,team:z}),Object(B.jsx)(ae,{name:"Offensive",types:_.map((function(e){return e.name})),damageValues:V.offensive,team:z})]}):A},oe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,166)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(B.jsx)(r.a.StrictMode,{children:Object(B.jsx)(ce,{})}),document.getElementById("root")),oe()},95:function(e,n,t){}},[[103,1,2]]]);
//# sourceMappingURL=main.1f059adb.chunk.js.map