(this["webpackJsonppokemon-team-builder"]=this["webpackJsonppokemon-team-builder"]||[]).push([[0],{103:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(28),o=t.n(r),i=(t(95),t(31)),s=t(41),u=t.n(s),l=t(14),d=t(57),m=t(9),f=t(26),p=t(35),h=t(159),j=t(161),b=t(162),v=t(163),O=t(154),g=t(158),x=t(155),y=t(164),k=["baby-doll-eyes","double-edge","freeze-dry","lock-on","mud-slap","multi-attack","power-up-punch","self-destruct","soft-boiled","topsy-turvy","trick-or-treat","u-turn","wake-up-slap","will-o-wisp","x-scissor"];function _(e){return e[0].toUpperCase()+e.slice(1)}function E(e){return e.split(/\s/).map((function(e){return _(e)})).join(" ")}function w(e){return e.replace(/-/g," ")}function C(e){var n;return e.includes("-")?(n=E(w(e)),k.includes(e)&&(n="baby-doll-eyes"===e||"power-up-punch"===e||"wake-up-slap"===e?n.replace(" ","-"):n.replaceAll(" ","-"))):n=_(e),n}function N(e){return e.map((function(e){return C(e.move.name)})).sort()}function S(e){return e.map((function(e){return function(e){var n;return e.includes("-")?(n=E(w(e)),"mr-mime"===e&&(n=n.replace(" ",". "))):n=_(e),n}(e)}))}function M(e){if(""===e)return e;var n;if(/[\s.-]+/.test(e)){var t=e.split(/[\s.-]+/);""===t[t.length-1]&&t.pop(),n=t.map((function(e){return e.toLowerCase()})).join("-")}else n=e.toLowerCase();return n}var P,V,F,z,L,A,B=t(2),I=Object(p.a)(h.a)(P||(P=Object(f.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 0.5em;\n"]))),T=Object(p.a)(j.a)(V||(V=Object(f.a)(["\n  width: 125px;\n  height: 125px;\n  border-radius: 50%;\n"]))),D=Object(p.a)(b.a)(F||(F=Object(f.a)(["\n  padding: 0;\n\n  :last-child {\n    padding: 0;\n  }\n"]))),J=Object(p.a)(v.a)(z||(z=Object(f.a)(["\n  width: 100%;\n"]))),R=Object(p.a)(O.a)(L||(L=Object(f.a)(["\n  margin-top: 0.5em;\n"]))),U=Object(p.a)(g.a)(A||(A=Object(f.a)(["\n  background-color: #464646;\n  font-size: 12px;\n\n  :hover {\n    background-color: #585858;\n  }\n"])));var W=function(e){var n=Object(a.useState)(e.data?e.data.name.charAt(0).toUpperCase()+e.data.name.slice(1):""),t=Object(m.a)(n,2),c=t[0],r=t[1],o=Object(a.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],f=Object(a.useState)(Array(4).fill("")),p=Object(m.a)(f,2),h=p[0],j=p[1];return Object(B.jsx)("li",{children:Object(B.jsxs)(I,{children:[e.data?Object(B.jsx)(T,{component:"img",image:e.data.sprites.other["official-artwork"].front_default,alt:e.data.name}):Object(B.jsx)("div",{className:"team-member-placeholder",children:"?"}),Object(B.jsx)(R,{inputValue:c,fullWidth:!0,size:"small",options:S(e.pokemonList),renderInput:function(e){return Object(B.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{label:"Pok\xe9mon name..."}))},onInputChange:function(n,t){r(t);for(var a=Object(l.a)(h),c=0;c<h.length;c++)a[c]="";j(a),e.onTeamChange(M(t),e.index)}}),Object(B.jsx)("ul",{className:"team-member-types-list",children:e.data?Object(B.jsx)(B.Fragment,{children:e.data.types.map((function(n){return Object(B.jsxs)("li",{className:"team-member-type ".concat(n.type.name,"-text"),children:[n.type.name,Object(B.jsx)("span",{style:{color:"#464646"},children:2===e.data.types.length&&0===e.data.types.indexOf(n)?"/":""})]},n.slot)}))}):Object(B.jsx)("li",{children:"???"},"0")}),Object(B.jsx)(y.a,{children:Object(B.jsx)(U,{variant:"contained",disabled:!e.data,onClick:function(){d(!u)},children:u?"Hide":"Moves"})}),Object(B.jsx)(J,{in:u,children:Object(B.jsx)(D,{children:h.map((function(n,t){return Object(B.jsx)(R,{inputValue:n,fullWidth:!0,size:"small",options:e.data?N(e.data.moves).filter((function(e){return!h.includes(e)})):[],renderInput:function(e){return Object(B.jsx)(x.a,Object(i.a)(Object(i.a)({},e),{},{label:"Move #".concat(t+1,"...")}))},onInputChange:function(n,a){return function(n,t,a){var c=Object(l.a)(h);c[n]=a,j(c),e.onMoveChange(M(a),e.index,n)}(t,0,a)}},t)}))})})]})})},H=t(160),q=t(156);var G=function(e){return Object(B.jsx)(q.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:e.isVisible,anchorEl:e.anchorEl,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableRestoreFocus:!0,children:e.team.every((function(e){return!e.data}))?Object(B.jsx)("p",{children:"Please select a Pok\xe9mon."}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("h3",{className:"popover-heading ".concat(e.name,"-text"),children:_(e.name)}),Object(B.jsx)("ul",{className:"popover-team",children:e.team.map((function(n,t){var a,c=e.damageValues[t];return n.data&&Object(B.jsxs)("li",{children:[_(n.data.name),Object(B.jsx)("span",{className:(a=c,a>0&&a<1?"positive bold":a>1?"negative bold":0===a?"no-damage bold":""),children:" (".concat(c,"x)")})]},t)}))})]})})};var K=function(e){return Object(B.jsx)(q.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:e.isVisible,anchorEl:e.anchorEl,onClose:e.onClose,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableRestoreFocus:!0,children:e.team.every((function(e){return!e.data}))?Object(B.jsx)("p",{children:"Please select a Pok\xe9mon."}):Object(B.jsxs)(B.Fragment,{children:[Object(B.jsxs)("h3",{className:"popover-heading",children:["Super effective against ",Object(B.jsx)("span",{className:"".concat(e.name,"-text"),children:_(e.name)})]}),Object(B.jsx)("ul",{children:e.team.map((function(n,t){return n.data&&n.moves.filter((function(n){return n.data&&n.damage&&n.damage.hasOwnProperty(e.name)})).map((function(e,a){return Object(B.jsxs)("li",{children:[Object(B.jsx)("span",{className:"".concat(e.data.type.name,"-text bold"),children:C(e.data.name)})," - ".concat(_(n.data.name))]},"member-".concat(t,"-move-").concat(a))}))}))})]})})};var Q=function(e){var n=Object(a.useState)(Array(18).fill(!1)),t=Object(m.a)(n,2),c=t[0],r=t[1],o=function(e){var n=Object(l.a)(c);n[e]=null,r(n)},i=e.types.map((function(n,t){var a=e.damageValues[n].type_chart;return Object(B.jsxs)("li",{className:"type",children:[Object(B.jsx)("div",{onMouseEnter:function(e){return function(e,n){var t=Object(l.a)(c);t[e]=n.target,r(t)}(t,e)},onMouseLeave:function(){return o(t)},className:"type-label ".concat(n,"-bg"),"aria-owns":Boolean(c[t])?"mouse-over-popover":void 0,"aria-haspopup":"true",children:n}),"Defensive"===e.name?Object(B.jsx)(G,{name:n,index:t,isVisible:Boolean(c[t]),team:e.team,damageValues:e.damageValues[n].popover,anchorEl:c[t],onClose:function(){return o(t)}}):Object(B.jsx)(K,{name:n,index:t,isVisible:Boolean(c[t]),team:e.team,anchorEl:c[t],onClose:function(){return o(t)}}),Object(B.jsx)("p",{className:"damage-value"+(a>0?" positive":a<0?" negative":""),children:a>0?"+".concat(a):a})]},n)}));return Object(B.jsxs)(H.a,{className:"type-chart-container"+("Defensive"===e.name?" defensive-type-chart":" offensive-type-chart"),children:[Object(B.jsx)("h2",{className:"type-chart-heading",children:"".concat(e.name," Coverage")}),Object(B.jsx)("ul",{className:"type-chart",children:i})]})},X=["normal","fighting","flying","poison","ground","rock","bug","ghost","steel","fire","water","grass","electric","psychic","ice","dragon","dark","fairy"];var Y=function(){var e=Object(a.useState)(null),n=Object(m.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(!1),o=Object(m.a)(r,2),s=o[0],f=o[1],p=Object(a.useState)([]),h=Object(m.a)(p,2),j=h[0],b=h[1],v=Object(a.useState)([]),O=Object(m.a)(v,2),g=O[0],x=O[1],y=Object(a.useState)([]),k=Object(m.a)(y,2),_=k[0],E=k[1],w=Object(a.useState)(Array.from({length:6},(function(){return{data:null,moves:Array.from({length:4},(function(){return{data:null,damage:null,checked:!1}})),damage:null,checked:!1}}))),C=Object(m.a)(w,2),N=C[0],S=C[1],M=Object(a.useState)((function(){var e={},n={};return X.forEach((function(t){e[t]={type_chart:0,popover:[1,1,1,1,1,1]},n[t]={type_chart:0}})),{defensive:e,offensive:n}})),P=Object(m.a)(M,2),V=P[0],F=P[1];function z(e,n){var t=Object(l.a)(N),a=j.find((function(n){return n===e}));a?fetch("https://pokeapi.co/api/v2/pokemon/".concat(a)).then((function(e){return e.json()})).then((function(e){t[n].data=e,S(t),function(e){var n=Object(l.a)(N),t=Object(i.a)({},V);e.forEach((function(e,n){if(e.data&&!e.checked){var a={},c={};for(var r in X.forEach((function(e){c[e]={decremented:!1,incremented:!1}})),e.data.types.forEach((function(e){var r=_.find((function(n){return n.name===e.type.name}));r&&(r.damage_relations.double_damage_from.forEach((function(e){c[e.name].decremented||(t.defensive[e.name].type_chart--,a[e.name]?a[e.name]--:a[e.name]=-1,c[e.name].decremented=!0),t.defensive[e.name].popover[n]*=2})),r.damage_relations.half_damage_from.forEach((function(e){c[e.name].incremented||(t.defensive[e.name].type_chart++,a[e.name]?a[e.name]++:a[e.name]=1,c[e.name].incremented=!0),t.defensive[e.name].popover[n]*=.5})),r.damage_relations.no_damage_from.forEach((function(e){for(var r=c[e.name].decremented?2:1,o=0;o<r;o++)t.defensive[e.name].type_chart++,a[e.name]?a[e.name]++:a[e.name]=1;t.defensive[e.name].popover[n]*=0})))})),a)0===a[r]&&delete a[r];e.checked=!0,e.damage=a}})),F(t),S(n)}(t)})):(t[n].data=null,S(t),function(e){var n=Object(l.a)(N),t=Object(i.a)({},V),a=n[e];for(var c in a.damage){var r=a.damage[c];r<0?t.defensive["".concat(c)].type_chart+=Math.abs(r):t.defensive["".concat(c)].type_chart-=Math.abs(r)}for(var o in t.defensive)t.defensive[o].popover[e]=1;a.damage=null,a.checked=!1,a.moves.forEach((function(e){for(var n in e.damage){var a=e.damage[n];a<0?t.offensive[n].type_chart+=Math.abs(a):t.offensive[n].type_chart-=Math.abs(a)}e.data=null,e.damage=null,e.checked=!1})),F(t),S(n)}(n))}function L(e,n,t){var a=Object(l.a)(N),c=a[n],r=g.find((function(n){return n===e}));r?fetch("https://pokeapi.co/api/v2/move/".concat(r,"/")).then((function(e){return e.json()})).then((function(e){c.moves[t].data=e,S(a),function(e){var n=Object(i.a)({},V);e.forEach((function(e){e.data&&e.moves.forEach((function(e){if(e.data&&!e.checked){var t={};if("physical"===e.data.damage_class.name||"special"===e.data.damage_class.name){var a=_.find((function(n){return n.name===e.data.type.name}));a&&a.damage_relations.double_damage_to.forEach((function(e){n.offensive[e.name].type_chart++,t[e.name]?t[e.name]++:t[e.name]=1}))}e.checked=!0,e.damage=t}}))})),F(n)}(a)})):(c.moves[t].data=null,S(a),function(e,n){var t=Object(l.a)(N),a=Object(i.a)({},V),c=t[e].moves[n];for(var r in c.damage){var o=c.damage[r];o<0?a.offensive[r].type_chart+=Math.abs(o):a.offensive[r].type_chart-=Math.abs(o)}c.damage=null,c.checked=!1,F(a),S(t)}(n,t))}Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/pokedex/2/");case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.pokemon_entries.forEach((function(e){return b((function(n){return[].concat(Object(l.a)(n),[e.pokemon_species.name])}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/move?limit=844");case 2:return n=e.sent,e.next=5,n.json();case 5:e.sent.results.forEach((function(e){return x((function(n){return[].concat(Object(l.a)(n),[e.name])}))}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(d.a)(u.a.mark((function e(){var n,t,a,c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://pokeapi.co/api/v2/type");case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,a=[],t.results.filter((function(e){return"unknown"!==e.name&&"shadow"!==e.name})).forEach((function(e){return a.push(e.url)})),e.next=10,Promise.all(a.map((function(e){return fetch(e)})));case 10:return c=e.sent,e.next=13,Promise.all(c.map((function(e){return e.json()})));case 13:r=e.sent,E(r);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Promise.all([function(){return e.apply(this,arguments)}(),function(){return n.apply(this,arguments)}(),function(){return t.apply(this,arguments)}()]).then((function(){f(!0)}),(function(e){f(!0),c(e)}))}),[]);var A=Object(B.jsx)("div",{className:"loading-container",children:Object(B.jsx)("p",{className:"loading-text",children:"Loading..."})});return t?Object(B.jsxs)("div",{children:["Error: ",t.message," "]}):s?Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{children:"Pok\xe9mon Team Builder"}),Object(B.jsx)("ul",{className:"team",children:N.map((function(e,n){return Object(B.jsx)(W,{index:n,data:e.data,pokemonList:j,onTeamChange:z,onMoveChange:L},n)}))}),Object(B.jsx)(Q,{name:"Defensive",types:_.map((function(e){return e.name})),damageValues:V.defensive,team:N}),Object(B.jsx)(Q,{name:"Offensive",types:_.map((function(e){return e.name})),damageValues:V.offensive,team:N})]}):A},Z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,166)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(Y,{})}),document.getElementById("root")),Z()},95:function(e,n,t){}},[[103,1,2]]]);
//# sourceMappingURL=main.090b2cb8.chunk.js.map